<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Publish your app | KDK</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="https://s3.eu-central-1.amazonaws.com/kalisioscope/kdk/kdk-icon-64x64.png">
    <link rel="manifest" href="/kdk/manifest.json">
    <meta name="description" content="The Kalisio Development Kit">
    <link rel="preload" href="/kdk/assets/css/0.styles.be5e49f6.css" as="style"><link rel="preload" href="/kdk/assets/js/app.50abb75d.js" as="script"><link rel="preload" href="/kdk/assets/js/2.a75dded2.js" as="script"><link rel="preload" href="/kdk/assets/js/39.e07d4572.js" as="script"><link rel="prefetch" href="/kdk/assets/js/10.df94f51f.js"><link rel="prefetch" href="/kdk/assets/js/11.288a047e.js"><link rel="prefetch" href="/kdk/assets/js/12.be4330c5.js"><link rel="prefetch" href="/kdk/assets/js/13.893dbb92.js"><link rel="prefetch" href="/kdk/assets/js/14.e02b2f7f.js"><link rel="prefetch" href="/kdk/assets/js/15.fbcd425c.js"><link rel="prefetch" href="/kdk/assets/js/16.f2926829.js"><link rel="prefetch" href="/kdk/assets/js/17.8432ca96.js"><link rel="prefetch" href="/kdk/assets/js/18.b0b69d45.js"><link rel="prefetch" href="/kdk/assets/js/19.6771d45d.js"><link rel="prefetch" href="/kdk/assets/js/20.0d959288.js"><link rel="prefetch" href="/kdk/assets/js/21.0f4447a7.js"><link rel="prefetch" href="/kdk/assets/js/22.318e76dc.js"><link rel="prefetch" href="/kdk/assets/js/23.68549475.js"><link rel="prefetch" href="/kdk/assets/js/24.c294c6b6.js"><link rel="prefetch" href="/kdk/assets/js/25.1ea98d22.js"><link rel="prefetch" href="/kdk/assets/js/26.c4d4e09d.js"><link rel="prefetch" href="/kdk/assets/js/27.a55b4b79.js"><link rel="prefetch" href="/kdk/assets/js/28.fb33f918.js"><link rel="prefetch" href="/kdk/assets/js/29.67036f90.js"><link rel="prefetch" href="/kdk/assets/js/3.e5a19f1a.js"><link rel="prefetch" href="/kdk/assets/js/30.8ac7aa4b.js"><link rel="prefetch" href="/kdk/assets/js/31.1c21120b.js"><link rel="prefetch" href="/kdk/assets/js/32.f7f3a789.js"><link rel="prefetch" href="/kdk/assets/js/33.c43435d7.js"><link rel="prefetch" href="/kdk/assets/js/34.fa03596f.js"><link rel="prefetch" href="/kdk/assets/js/35.b8e26439.js"><link rel="prefetch" href="/kdk/assets/js/36.5d07c426.js"><link rel="prefetch" href="/kdk/assets/js/37.63b9daa8.js"><link rel="prefetch" href="/kdk/assets/js/38.0f06d4ea.js"><link rel="prefetch" href="/kdk/assets/js/4.66807596.js"><link rel="prefetch" href="/kdk/assets/js/40.62ba7745.js"><link rel="prefetch" href="/kdk/assets/js/41.2d3cc305.js"><link rel="prefetch" href="/kdk/assets/js/42.abb2d38b.js"><link rel="prefetch" href="/kdk/assets/js/43.471b5226.js"><link rel="prefetch" href="/kdk/assets/js/44.e3c2d27b.js"><link rel="prefetch" href="/kdk/assets/js/45.416a8eb4.js"><link rel="prefetch" href="/kdk/assets/js/46.a7a78828.js"><link rel="prefetch" href="/kdk/assets/js/47.586d84f2.js"><link rel="prefetch" href="/kdk/assets/js/5.c7114d47.js"><link rel="prefetch" href="/kdk/assets/js/6.87bf1999.js"><link rel="prefetch" href="/kdk/assets/js/7.6af8861a.js"><link rel="prefetch" href="/kdk/assets/js/8.cde45b70.js"><link rel="prefetch" href="/kdk/assets/js/9.83ecdb5c.js">
    <link rel="stylesheet" href="/kdk/assets/css/0.styles.be5e49f6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/kdk/" class="home-link router-link-active"><!----> <span class="site-name">KDK</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/kdk/about/" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/kdk/guides/" class="nav-link router-link-active">
  Guides
</a></div><div class="nav-item"><a href="/kdk/architecture/" class="nav-link">
  Architecture
</a></div><div class="nav-item"><a href="/kdk/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/kdk/tips.html" class="nav-link">
  Tips
</a></div><div class="nav-item"><a href="/kdk/tools/" class="nav-link">
  Tools
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/kdk/about/" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/kdk/guides/" class="nav-link router-link-active">
  Guides
</a></div><div class="nav-item"><a href="/kdk/architecture/" class="nav-link">
  Architecture
</a></div><div class="nav-item"><a href="/kdk/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/kdk/tips.html" class="nav-link">
  Tips
</a></div><div class="nav-item"><a href="/kdk/tools/" class="nav-link">
  Tools
</a></div> <!----></nav> <p align="center"><a href="https://kalisio.com"><img src="https://s3.eu-central-1.amazonaws.com/kalisioscope/kalisio/kalisio-logo-black-256x84.png"></a> <br> <!----></p> <ul class="sidebar-links"><li><a href="/kdk/guides/" aria-current="page" class="sidebar-link">Guides</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>The Basics</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Development</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/kdk/guides/development/setup.html" class="sidebar-link">Setup your environment</a></li><li><a href="/kdk/guides/development/develop.html" class="sidebar-link">Develop with KDK</a></li><li><a href="/kdk/guides/development/configure.html" class="sidebar-link">Configure your app</a></li><li><a href="/kdk/guides/development/deploy.html" class="sidebar-link">Deploy your app</a></li><li><a href="/kdk/guides/development/publish.html" aria-current="page" class="active sidebar-link">Publish your app</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kdk/guides/development/publish.html#prerequisites" class="sidebar-link">Prerequisites</a></li><li class="sidebar-sub-header"><a href="/kdk/guides/development/publish.html#plugins-modules" class="sidebar-link">Plugins/Modules</a></li><li class="sidebar-sub-header"><a href="/kdk/guides/development/publish.html#web-app" class="sidebar-link">Web app</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="publish-your-app"><a href="#publish-your-app" class="header-anchor">#</a> Publish your app</h1> <h2 id="prerequisites"><a href="#prerequisites" class="header-anchor">#</a> Prerequisites</h2> <h3 id="install-change-log-generator"><a href="#install-change-log-generator" class="header-anchor">#</a> Install Change log generator</h3> <p>In order to be able to generate the changelog for your published app/modules you need this <a href="https://github.com/skywinder/github-changelog-generator" target="_blank" rel="noopener noreferrer">gem<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, which creates a log file based on <strong>tags</strong>, <strong>issues</strong> and merged <strong>pull requests</strong> (and splits them into separate lists according to labels) from :octocat: GitHub Issue Tracker. This requires you to install (e.g. for Windows) <a href="http://rubyinstaller.org/downloads/" target="_blank" rel="noopener noreferrer">Ruby<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and its <a href="https://github.com/oneclick/rubyinstaller/wiki/Development-Kit" target="_blank" rel="noopener noreferrer">DevKit<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="plugins-modules"><a href="#plugins-modules" class="header-anchor">#</a> Plugins/Modules</h2> <p>The same process applies when releasing a patch, minor or major version, i.e. the following tasks are done automatically on release:</p> <ul><li>increase the package version number in the <strong>package.json</strong> file (frontend and backend API)</li> <li>publish the module on the NPM registry</li> <li>create a tag accordingly in the git repository and push it</li> <li>generates the changelog in the git repository and push it</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Modules are published under the <code>@kalisio</code> namespace in NPM, e.g. <code>kdk</code> NPM package is named <code>@kalisio/kdk</code></p></div> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>This requires you to have a NPM and GitHub account and be a team member of the Kalisio organization, if you'd like to become a maintainer please tell us</p></div> <p>Depending on the release type the following command will do the job (where type is either <code>patch</code>, <code>minor</code>, <code>major</code>):</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run release:type
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>If you have a lot of issues/PRs to be integrated in change log please <a href="https://github.com/github-changelog-generator/github-changelog-generator#github-token" target="_blank" rel="noopener noreferrer">generate a GitHub token<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to avoid rate-limiting on their API and set the <code>CHANGELOG_GITHUB_TOKEN</code> environment variable to your token before publishing</p></div> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>The changelog suffers from the following <a href="https://github.com/github-changelog-generator/github-changelog-generator/issues/497" target="_blank" rel="noopener noreferrer">issue<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> so you might have to edit the generated changelog when pushing on different branches or systematically merge changes to <code>master</code> before generating the changelog so that all issues are closed in Github.</p></div> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Before you publish a module take care of updating the version of your dependent modules to the latest version published, for example  perform <code>yarn upgrade xxx</code> for a module depending on the xxx module before publishing it</p></div> <h2 id="web-app"><a href="#web-app" class="header-anchor">#</a> Web app</h2> <p>Almost the same process applies as for the plugins/modules except the app is not published on the NPM registry but in the Docker Hub. Moreover, the process is less automated to ensure more flexibility, i.e. the tasks are performed independently using the required commands at the different stages of the application lifecycle.</p> <p>Typically, when starting a new version after a release</p> <ul><li>increase the package version number in the <strong>package.json</strong> file (frontend and backend API) of your <code>master</code>branch so that the generated artefacts will not erase previously published ones</li></ul> <p>Depending on the release typing the following command will do the job (where type is either <code>patch</code>, <code>minor</code>, <code>major</code>):</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run release:type
</code></pre></div><p>Then typically when releasing a new version starting from your <code>test</code> (a.k.a release or staging) branch:</p> <ul><li>create a tag accordingly in the git repository and push it, this will trigger the CI process to build the target artefacts</li> <li>generates the changelog in the git repository and push it</li></ul> <p>This process usually triggers your <a href="/kdk/guides/development/deploy.html">CI/CD</a> accordingly based on the current branch.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Before you publish your app take care of updating the version of all dependent modules to the latest version published, for example perform <code>yarn upgrade kdk</code> to use the latest versin of the KDK.</p></div> <p>Because Kalisio web app are also released as Docker images you can build it like this:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>docker build -t kalisio/kapp <span class="token builtin class-name">.</span>
</code></pre></div><p>Then release it as latest version:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>docker login
docker push kalisio/kapp
</code></pre></div><p>And tag it (<code>version_tag</code> being the current version number like <code>1.1.2</code> or <code>1.1.0-dev</code> depending on the <a href="/kdk/guides/development/deploy.html">flavor</a>)</p> <div class="language-bash extra-class"><pre class="language-bash"><code>docker tag kalisio/kapp kalisio/kapp:version_tag
docker push kalisio/kapp:version_tag
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>This requires you to have a DockerHub account and be a team member of the Kalisio organization, if you'd like to become a maintainer please tell us</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/kdk/guides/development/deploy.html" class="prev">
        Deploy your app
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/kdk/assets/js/app.50abb75d.js" defer></script><script src="/kdk/assets/js/2.a75dded2.js" defer></script><script src="/kdk/assets/js/39.e07d4572.js" defer></script>
  </body>
</html>
